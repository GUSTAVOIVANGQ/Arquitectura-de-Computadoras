library ieee;
use ieee.std_logic_1164.all;

entity stack_tb is
end stack_tb;

architecture test of stack_tb is
    component stack_8bit
        port (
            clk, reset, push, pop, peek: in std_logic;
            data_in: in std_logic_vector(7 downto 0);
            data_out: out std_logic_vector(7 downto 0);
            empty, full: out std_logic
        );
    end component;
    
    signal clk, reset, push, pop, peek: std_logic := '0';
    signal data_in, data_out: std_logic_vector(7 downto 0);
    signal empty, full: std_logic;
    
begin
    uut: stack_8bit port map (
        clk => clk, reset => reset, push => push, pop => pop, peek => peek,
        data_in => data_in, data_out => data_out, empty => empty, full => full
    );
    
    clk_process: process
    begin
        clk <= '0'; wait for 10 ns;
        clk <= '1'; wait for 10 ns;
    end process;
    
    stim_process: process
    begin
        reset <= '1'; wait for 20 ns;
        reset <= '0';
        
        -- Test push
        data_in <= "00000001";
        push <= '1'; wait for 20 ns; push <= '0';
        
        data_in <= "00000010";
        push <= '1'; wait for 20 ns; push <= '0';
        
        -- Test peek
        peek <= '1'; wait for 20 ns; peek <= '0';
        
        -- Test pop
        pop <= '1'; wait for 20 ns; pop <= '0';
        
        wait;
    end process;
end test;